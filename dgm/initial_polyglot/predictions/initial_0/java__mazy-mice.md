
========== User Instruction ==========
I have uploaded a code repository in the directory /testbed/. Help solve the following problem.

<problem_description>
# Hints

## General

- You can use the [Random class][random-class] to generate random numbers.
- Read more in article: [Random Number Generators in Java 17][random-number-generators].

## Maze generation

You can use any algorithm to generate a perfect maze. The [recursive backtracker][recursive-backtracker] is a good choice.

## Box drawing characters

| Character | Name                                  | Unicode |
|:---------:|:--------------------------------------|:--------|
|     ┌     | box drawings light down and right     |  U+250C |
|     ─     | box drawings light horizontal         |  U+2500 |
|     ┬     | box drawings light down and horizontal|  U+252C |
|     ┐     | box drawings light down and left      |  U+2510 |
|     │     | box drawings light vertical           |  U+2502 |
|     └     | box drawings light up and right       |  U+2514 |
|     ┴     | box drawings light up and horizontal  |  U+2534 |
|     ┘     | box drawings light up and left        |  U+2518 |
|     ├     | box drawings light vertical and right |  U+2520 |
|     ⇨     | rightwards white arrow                |  U+21E8 |

[recursive-backtracker]: https://en.wikipedia.org/wiki/Maze_generation_algorithm
[random-class]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Random.html
[random-number-generators]: https://www.baeldung.com/java-17-random-number-generators


# Instructions

Your task is to generate the perfect mazes for Mickey and Minerva — those with only one solution and no isolated sections.
Here's what you need to know:

- The maze has a rectangular shape with an opening at the start and end.
- The maze has rooms and passages, which intersect at right angles.
- The program should accept two parameters: rows and columns. The maze should be between 5 and 100 cells in size.
- A maze which is `x` columns wide and `y` rows high should be `2x + 1` characters wide and `2y + 1` characters high.
- If no seed is provided, generate a random maze. If the same seed is provided multiple times, the resulting maze should be the same each time.
- Use [box-drawing][Box-drawing] characters to draw walls, and an arrow symbol (⇨) for the entrance on the left and exit on the right.

It's time to create some perfect mazes for these adventurous mice!

## Examples

1. A small square maze 5x5 cells (or 11x11 characters)

    ```text
    ┌───────┬─┐
    │       │ │
    │ ┌─┬── │ │
    │ │ │   │ ⇨
    │ │ │ ──┤ │
    ⇨ │ │   │ │
    ┌─┤ └── │ │
    │ │     │ │
    │ │ ────┘ │
    │         │
    └─────────┘
    ```

2. A rectangular maze 6x18 cells

    ```text
    ┌───────────┬─────────┬───────────┬─┐
    │           │         │           │ │
    │ ┌───────┐ │ ┌─┐ ──┐ └───┐ ┌───┐ │ │
    │ │       │ │ │ │   │     │ │   │   ⇨
    │ └─┐ ┌─┐ │ │ │ ├── ├───┐ │ │ ──┼── │
    │   │ │ │   │   │   │   │ │ │   │   │
    └── │ │ ├───┴───┤ ┌─┘ ┌─┘ │ ├── │ ──┤
    ⇨   │   │       │ │   │   │ │   │   │
    ┌─┬─┴─┐ └─┐ ┌─┐ │ └─┐ │ ┌─┘ │ ──┴─┐ │
    │ │   │   │ │ │ │   │   │   │     │ │
    │ │ │ └── │ │ │ └── │ ──┘ ┌─┘ ──┐ │ │
    │   │       │       │     │     │   │
    └───┴───────┴───────┴─────┴─────┴───┘
    ```

[Box-drawing]: https://en.wikipedia.org/wiki/Box-drawing_character


# Introduction

Meet Mickey and Minerva, two clever mice who love to navigate their way through a maze to find cheese. They enjoy a good challenge, but with only their tiny mouse brains, they prefer if there is only one correct path to the cheese.



</problem_description>

Your task is to make changes to the files in the /testbed/ directory to address the <problem_description>. I have already taken care of the required dependencies.


Please analyze the problem description carefully. Then make edits to the code files to complete the instruction.

========== Agent Response ==========
Response(id='resp_681eb9ecfd7081918356716c52fd80e905c63ab6cb06a509', created_at=1746844141.0, error=None, incomplete_details=None, instructions=None, metadata={}, model='o3-mini-2025-01-31', object='response', output=[ResponseReasoningItem(id='rs_681eb9ee9ce881919bc6a3a817e33e0105c63ab6cb06a509', summary=[], type='reasoning', encrypted_content=None, status=None), ResponseFunctionToolCall(arguments='{"command": "view", "path": "/testbed/." , "file_text": null}', call_id='call_IphNwkZVuhhG3RYuRb6q3eIa', name='editor', type='function_call', id='fc_681eb9ef22d08191b7652a9e7d6fb2db05c63ab6cb06a509', status='completed')], parallel_tool_calls=False, temperature=1.0, tool_choice='auto', tools=[FunctionTool(name='bash', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'description': 'The bash command to run.'}}, 'required': ['command'], 'additionalProperties': False}, strict=True, type='function', description='Run commands in a bash shell\n\n* When invoking this tool, the contents of the "command" parameter does NOT need to be XML-escaped.\n\n* You don\'t have access to the internet via this tool.\n\n* You do have access to a mirror of common linux and python packages via apt and pip.\n\n* State is persistent across command calls and discussions with the user.\n\n* To inspect a particular line range of a file, e.g. lines 10-25, try \'sed -n 10,25p /path/to/the/file\'.\n\n* Please avoid commands that may produce a very large amount of output.\n\n* Please run long lived commands in the background, e.g. \'sleep 10 &\' or start a server in the background.'), FunctionTool(name='editor', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'enum': ['view', 'create', 'edit'], 'description': 'The command to run: `view`, `create`, or `edit`.'}, 'path': {'description': 'Absolute path to file or directory, e.g. `/repo/file.py` or `/repo`.', 'type': 'string'}, 'file_text': {'description': 'Required parameter of `create` or `edit` command, containing the content for the entire file.', 'type': ['string', 'null']}}, 'required': ['command', 'path', 'file_text'], 'additionalProperties': False}, strict=True, type='function', description='Custom editing tool for viewing, creating, and editing files\n\n* State is persistent across command calls and discussions with the user.\n\n* If `path` is a file, `view` displays the entire file with line numbers. If `path` is a directory, `view` lists non-hidden files and directories up to 2 levels deep.\n\n* The `create` command cannot be used if the specified `path` already exists as a file.\n\n* If a `command` generates a long output, it will be truncated and marked with `<response clipped>`.\n\n* The `edit` command overwrites the entire file with the provided `file_text`.\n\n* No partial/line-range edits or partial viewing are supported.')], top_p=1.0, max_output_tokens=None, previous_response_id=None, reasoning=Reasoning(effort='medium', generate_summary=None, summary=None), service_tier='default', status='completed', text=ResponseTextConfig(format=ResponseFormatText(type='text')), truncation='disabled', usage=ResponseUsage(input_tokens=1665, input_tokens_details=InputTokensDetails(cached_tokens=0), output_tokens=27, output_tokens_details=OutputTokensDetails(reasoning_tokens=0), total_tokens=1692), user=None, store=True)
{'tool_id': 'call_IphNwkZVuhhG3RYuRb6q3eIa', 'tool_name': 'editor', 'tool_input': {'command': 'view', 'path': '/testbed/.', 'file_text': None}}
Tool Used: editor
Tool Input: {'command': 'view', 'path': '/testbed/.', 'file_text': None}
Tool Result: Here's the files and directories up to 2 levels deep in /testbed, excluding hidden items:
/testbed
/testbed/build.gradle
/testbed/gradle
/testbed/gradle/wrapper
/testbed/gradlew
/testbed/gradlew.bat
/testbed/src
/testbed/src/main

Tool Response: Response(id='resp_681eb9f02c208191ad490a10cdede24605c63ab6cb06a509', created_at=1746844144.0, error=None, incomplete_details=None, instructions=None, metadata={}, model='o3-mini-2025-01-31', object='response', output=[ResponseReasoningItem(id='rs_681eb9f2848c81918bd37c78a217df3105c63ab6cb06a509', summary=[], type='reasoning', encrypted_content=None, status=None), ResponseFunctionToolCall(arguments='{"command": "view", "path": "/testbed/src/main", "file_text": null}', call_id='call_Ku69NwZFY37blgaMFmx5rlQ3', name='editor', type='function_call', id='fc_681eb9f2eb608191baf35876b04c578005c63ab6cb06a509', status='completed')], parallel_tool_calls=False, temperature=1.0, tool_choice='auto', tools=[FunctionTool(name='bash', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'description': 'The bash command to run.'}}, 'required': ['command'], 'additionalProperties': False}, strict=True, type='function', description='Run commands in a bash shell\n\n* When invoking this tool, the contents of the "command" parameter does NOT need to be XML-escaped.\n\n* You don\'t have access to the internet via this tool.\n\n* You do have access to a mirror of common linux and python packages via apt and pip.\n\n* State is persistent across command calls and discussions with the user.\n\n* To inspect a particular line range of a file, e.g. lines 10-25, try \'sed -n 10,25p /path/to/the/file\'.\n\n* Please avoid commands that may produce a very large amount of output.\n\n* Please run long lived commands in the background, e.g. \'sleep 10 &\' or start a server in the background.'), FunctionTool(name='editor', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'enum': ['view', 'create', 'edit'], 'description': 'The command to run: `view`, `create`, or `edit`.'}, 'path': {'description': 'Absolute path to file or directory, e.g. `/repo/file.py` or `/repo`.', 'type': 'string'}, 'file_text': {'description': 'Required parameter of `create` or `edit` command, containing the content for the entire file.', 'type': ['string', 'null']}}, 'required': ['command', 'path', 'file_text'], 'additionalProperties': False}, strict=True, type='function', description='Custom editing tool for viewing, creating, and editing files\n\n* State is persistent across command calls and discussions with the user.\n\n* If `path` is a file, `view` displays the entire file with line numbers. If `path` is a directory, `view` lists non-hidden files and directories up to 2 levels deep.\n\n* The `create` command cannot be used if the specified `path` already exists as a file.\n\n* If a `command` generates a long output, it will be truncated and marked with `<response clipped>`.\n\n* The `edit` command overwrites the entire file with the provided `file_text`.\n\n* No partial/line-range edits or partial viewing are supported.')], top_p=1.0, max_output_tokens=None, previous_response_id=None, reasoning=Reasoning(effort='medium', generate_summary=None, summary=None), service_tier='default', status='completed', text=ResponseTextConfig(format=ResponseFormatText(type='text')), truncation='disabled', usage=ResponseUsage(input_tokens=1764, input_tokens_details=InputTokensDetails(cached_tokens=0), output_tokens=155, output_tokens_details=OutputTokensDetails(reasoning_tokens=128), total_tokens=1919), user=None, store=True)
Tool Used: editor
Tool Input: {'command': 'view', 'path': '/testbed/src/main', 'file_text': None}
Tool Result: Here's the files and directories up to 2 levels deep in /testbed/src/main, excluding hidden items:
/testbed/src/main
/testbed/src/main/java
/testbed/src/main/java/MazeGenerator.java

Tool Response: Response(id='resp_681eb9f3e4b48191bf9f6496dc70fc3305c63ab6cb06a509', created_at=1746844148.0, error=None, incomplete_details=None, instructions=None, metadata={}, model='o3-mini-2025-01-31', object='response', output=[ResponseReasoningItem(id='rs_681eb9f534648191857c912beb926bd405c63ab6cb06a509', summary=[], type='reasoning', encrypted_content=None, status=None), ResponseFunctionToolCall(arguments='{"command": "view", "path": "/testbed/src/main/java/MazeGenerator.java", "file_text": null}', call_id='call_9NO78N3aQJlxCcV6U0GCRm3y', name='editor', type='function_call', id='fc_681eb9f5756481919715d47e04d6b14505c63ab6cb06a509', status='completed')], parallel_tool_calls=False, temperature=1.0, tool_choice='auto', tools=[FunctionTool(name='bash', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'description': 'The bash command to run.'}}, 'required': ['command'], 'additionalProperties': False}, strict=True, type='function', description='Run commands in a bash shell\n\n* When invoking this tool, the contents of the "command" parameter does NOT need to be XML-escaped.\n\n* You don\'t have access to the internet via this tool.\n\n* You do have access to a mirror of common linux and python packages via apt and pip.\n\n* State is persistent across command calls and discussions with the user.\n\n* To inspect a particular line range of a file, e.g. lines 10-25, try \'sed -n 10,25p /path/to/the/file\'.\n\n* Please avoid commands that may produce a very large amount of output.\n\n* Please run long lived commands in the background, e.g. \'sleep 10 &\' or start a server in the background.'), FunctionTool(name='editor', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'enum': ['view', 'create', 'edit'], 'description': 'The command to run: `view`, `create`, or `edit`.'}, 'path': {'description': 'Absolute path to file or directory, e.g. `/repo/file.py` or `/repo`.', 'type': 'string'}, 'file_text': {'description': 'Required parameter of `create` or `edit` command, containing the content for the entire file.', 'type': ['string', 'null']}}, 'required': ['command', 'path', 'file_text'], 'additionalProperties': False}, strict=True, type='function', description='Custom editing tool for viewing, creating, and editing files\n\n* State is persistent across command calls and discussions with the user.\n\n* If `path` is a file, `view` displays the entire file with line numbers. If `path` is a directory, `view` lists non-hidden files and directories up to 2 levels deep.\n\n* The `create` command cannot be used if the specified `path` already exists as a file.\n\n* If a `command` generates a long output, it will be truncated and marked with `<response clipped>`.\n\n* The `edit` command overwrites the entire file with the provided `file_text`.\n\n* No partial/line-range edits or partial viewing are supported.')], top_p=1.0, max_output_tokens=None, previous_response_id=None, reasoning=Reasoning(effort='medium', generate_summary=None, summary=None), service_tier='default', status='completed', text=ResponseTextConfig(format=ResponseFormatText(type='text')), truncation='disabled', usage=ResponseUsage(input_tokens=1841, input_tokens_details=InputTokensDetails(cached_tokens=1726), output_tokens=32, output_tokens_details=OutputTokensDetails(reasoning_tokens=0), total_tokens=1873), user=None, store=True)
Tool Used: editor
Tool Input: {'command': 'view', 'path': '/testbed/src/main/java/MazeGenerator.java', 'file_text': None}
Tool Result: Here's the result of running `cat -n` on /testbed/src/main/java/MazeGenerator.java:
```
     1	public class MazeGenerator {
     2	
     3	    public char[][] generatePerfectMaze(int rows, int columns) {
     4	        throw new UnsupportedOperationException("Delete this statement and write your own implementation.");
     5	    }
     6	
     7	    public char[][] generatePerfectMaze(int rows, int columns, int seed) {
     8	        throw new UnsupportedOperationException("Delete this statement and write your own implementation.");
     9	    }
    10	}
    11	
```

Tool Response: Response(id='resp_681eb9f68e68819182785eeac1d4095705c63ab6cb06a509', created_at=1746844150.0, error=None, incomplete_details=None, instructions=None, metadata={}, model='o3-mini-2025-01-31', object='response', output=[ResponseReasoningItem(id='rs_681eba2157d08191bfa13489848a2d8505c63ab6cb06a509', summary=[], type='reasoning', encrypted_content=None, status=None), ResponseFunctionToolCall(arguments='{"command": "edit", "path": "/testbed/src/main/java/MazeGenerator.java", "file_text": "import java.util.ArrayList;\\nimport java.util.Collections;\\nimport java.util.List;\\nimport java.util.Random;\\n\\npublic class MazeGenerator {\\n\\n    private static final int TOP = 0, RIGHT = 1, BOTTOM = 2, LEFT = 3;\\n\\n    private static class Cell {\\n        boolean[] walls = {true, true, true, true}; // top, right, bottom, left\\n        boolean visited = false;\\n    }\\n\\n    public char[][] generatePerfectMaze(int rows, int columns) {\\n        return generatePerfectMaze(rows, columns, new Random().nextInt());\\n    }\\n\\n    public char[][] generatePerfectMaze(int rows, int columns, int seed) {\\n        if (rows < 5 || rows > 100 || columns < 5 || columns > 100) {\\n            throw new IllegalArgumentException(\\"Maze dimensions must be between 5 and 100 cells.\\");\\n        }\\n        // Create grid of cells\\n        Cell[][] maze = new Cell[rows][columns];\\n        for (int r = 0; r < rows; r++) {\\n            for (int c = 0; c < columns; c++) {\\n                maze[r][c] = new Cell();\\n            }\\n        }\\n\\n        Random rand = new Random(seed);\\n        carvePassagesFrom(0, 0, maze, rows, columns, rand);\\n\\n        // Create entrance and exit\\n        // Entrance: remove left wall of top-left cell\\n        maze[0][0].walls[LEFT] = false;\\n        // Exit: remove right wall of bottom-right cell\\n        maze[rows - 1][columns - 1].walls[RIGHT] = false;\\n\\n        // Build the ASCII drawing using box-drawing characters\\n        int h = 2 * rows + 1;\\n        int w = 2 * columns + 1;\\n        char[][] grid = new char[h][w];\\n\\n        // Initialize grid with spaces\\n        for (int i = 0; i < h; i++) {\\n            for (int j = 0; j < w; j++) {\\n                grid[i][j] = \' \';\\n            }\\n        }\\n\\n        // Fill in horizontal walls from cells\\n        // For each cell at (r,c), its top wall is drawn at (2*r, 2*c+1) if exists and bottom at (2*r+2, 2*c+1)\\n        for (int r = 0; r < rows; r++) {\\n            for (int c = 0; c < columns; c++) {\\n                if (maze[r][c].walls[TOP]) {\\n                    grid[2 * r][2 * c + 1] = \'─\';\\n                }\\n                if (maze[r][c].walls[BOTTOM]) {\\n                    grid[2 * r + 2][2 * c + 1] = \'─\';\\n                }\\n                if (maze[r][c].walls[LEFT]) {\\n                    grid[2 * r + 1][2 * c] = \'│\';\\n                }\\n                if (maze[r][c].walls[RIGHT]) {\\n                    grid[2 * r + 1][2 * c + 2] = \'│\';\\n                }\\n            }\\n        }\\n\\n        // Fill in corners and border intersections\\n        for (int i = 0; i < h; i += 2) {\\n            for (int j = 0; j < w; j += 2) {\\n                // Determine which border this intersection is on\\n                boolean topEdge = (i == 0);\\n                boolean bottomEdge = (i == h - 1);\\n                boolean leftEdge = (j == 0);\\n                boolean rightEdge = (j == w - 1);\\n\\n                if (topEdge && leftEdge) {\\n                    grid[i][j] = \'┌\';\\n                } else if (topEdge && rightEdge) {\\n                    grid[i][j] = \'┐\';\\n                } else if (bottomEdge && leftEdge) {\\n                    grid[i][j] = \'└\';\\n                } else if (bottomEdge && rightEdge) {\\n                    grid[i][j] = \'┘\';\\n                } else if (topEdge) {\\n                    grid[i][j] = \'┬\';\\n                } else if (bottomEdge) {\\n                    grid[i][j] = \'┴\';\\n                } else if (leftEdge) {\\n                    grid[i][j] = \'├\';\\n                } else if (rightEdge) {\\n                    grid[i][j] = \'┤\';\\n                } else {\\n                    grid[i][j] = \'┼\';\\n                }\\n            }\\n        }\\n\\n        // Place entrance and exit arrows. Entrance on left, exit on right.\\n        // Entrance: at the left border of cell (0,0) i.e. (2*0+1, 0)\\n        grid[1][0] = \'⇨\';\\n        // Exit: at the right border of cell (rows-1, columns-1) i.e. (2*(rows-1)+1, 2*columns)\\n        grid[2 * rows - 1][w - 1] = \'⇨\';\\n\\n        return grid;\\n    }\\n\\n    private void carvePassagesFrom(int r, int c, Cell[][] maze, int rows, int columns, Random rand) {\\n        maze[r][c].visited = true;\\n\\n        List<int[]> directions = new ArrayList<>();\\n        directions.add(new int[]{-1, 0, TOP, BOTTOM});    // move up: remove top wall of current and bottom wall of neighbor\\n        directions.add(new int[]{0, 1, RIGHT, LEFT});     // move right\\n        directions.add(new int[]{1, 0, BOTTOM, TOP});       // move down\\n        directions.add(new int[]{0, -1, LEFT, RIGHT});      // move left\\n\\n        Collections.shuffle(directions, rand);\\n\\n        for (int[] dir : directions) {\\n            int nr = r + dir[0];\\n            int nc = c + dir[1];\\n            if (nr >= 0 && nr < rows && nc >= 0 && nc < columns && !maze[nr][nc].visited) {\\n                // Remove walls between current cell and neighbor\\n                maze[r][c].walls[dir[2]] = false;\\n                maze[nr][nc].walls[dir[3]] = false;\\n                carvePassagesFrom(nr, nc, maze, rows, columns, rand);\\n            }\\n        }\\n    }\\n\\n    // For debugging, a method to print the maze to console\\n    public void printMaze(char[][] grid) {\\n        for (char[] row : grid) {\\n            System.out.println(new String(row));\\n        }\\n    }\\n\\n    public static void main(String[] args) {\\n        MazeGenerator mg = new MazeGenerator();\\n        int rows = 5;\\n        int cols = 5;\\n        int seed = 12345;\\n        char[][] maze = mg.generatePerfectMaze(rows, cols, seed);\\n        mg.printMaze(maze);\\n    }\\n}\\n"}', call_id='call_YdtVNl5PftideSQvUp16RWgn', name='editor', type='function_call', id='fc_681eba26b75c819184e96fca1a45452105c63ab6cb06a509', status='completed')], parallel_tool_calls=False, temperature=1.0, tool_choice='auto', tools=[FunctionTool(name='bash', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'description': 'The bash command to run.'}}, 'required': ['command'], 'additionalProperties': False}, strict=True, type='function', description='Run commands in a bash shell\n\n* When invoking this tool, the contents of the "command" parameter does NOT need to be XML-escaped.\n\n* You don\'t have access to the internet via this tool.\n\n* You do have access to a mirror of common linux and python packages via apt and pip.\n\n* State is persistent across command calls and discussions with the user.\n\n* To inspect a particular line range of a file, e.g. lines 10-25, try \'sed -n 10,25p /path/to/the/file\'.\n\n* Please avoid commands that may produce a very large amount of output.\n\n* Please run long lived commands in the background, e.g. \'sleep 10 &\' or start a server in the background.'), FunctionTool(name='editor', parameters={'type': 'object', 'properties': {'command': {'type': 'string', 'enum': ['view', 'create', 'edit'], 'description': 'The command to run: `view`, `create`, or `edit`.'}, 'path': {'description': 'Absolute path to file or directory, e.g. `/repo/file.py` or `/repo`.', 'type': 'string'}, 'file_text': {'description': 'Required parameter of `create` or `edit` command, containing the content for the entire file.', 'type': ['string', 'null']}}, 'required': ['command', 'path', 'file_text'], 'additionalProperties': False}, strict=True, type='function', description='Custom editing tool for viewing, creating, and editing files\n\n* State is persistent across command calls and discussions with the user.\n\n* If `path` is a file, `view` displays the entire file with line numbers. If `path` is a directory, `view` lists non-hidden files and directories up to 2 levels deep.\n\n* The `create` command cannot be used if the specified `path` already exists as a file.\n\n* If a `command` generates a long output, it will be truncated and marked with `<response clipped>`.\n\n* The `edit` command overwrites the entire file with the provided `file_text`.\n\n* No partial/line-range edits or partial viewing are supported.')], top_p=1.0, max_output_tokens=None, previous_response_id=None, reasoning=Reasoning(effort='medium', generate_summary=None, summary=None), service_tier='default', status='completed', text=ResponseTextConfig(format=ResponseFormatText(type='text')), truncation='disabled', usage=ResponseUsage(input_tokens=2016, input_tokens_details=InputTokensDetails(cached_tokens=0), output_tokens=8377, output_tokens_details=OutputTokensDetails(reasoning_tokens=6720), total_tokens=10393), user=None, store=True)
Tool Used: editor
Tool Input: {'command': 'edit', 'path': '/testbed/src/main/java/MazeGenerator.java', 'file_text': 'import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.Random;\n\npublic class MazeGenerator {\n\n    private static final int TOP = 0, RIGHT = 1, BOTTOM = 2, LEFT = 3;\n\n    private static class Cell {\n        boolean[] walls = {true, true, true, true}; // top, right, bottom, left\n        boolean visited = false;\n    }\n\n    public char[][] generatePerfectMaze(int rows, int columns) {\n        return generatePerfectMaze(rows, columns, new Random().nextInt());\n    }\n\n    public char[][] generatePerfectMaze(int rows, int columns, int seed) {\n        if (rows < 5 || rows > 100 || columns < 5 || columns > 100) {\n            throw new IllegalArgumentException("Maze dimensions must be between 5 and 100 cells.");\n        }\n        // Create grid of cells\n        Cell[][] maze = new Cell[rows][columns];\n        for (int r = 0; r < rows; r++) {\n            for (int c = 0; c < columns; c++) {\n                maze[r][c] = new Cell();\n            }\n        }\n\n        Random rand = new Random(seed);\n        carvePassagesFrom(0, 0, maze, rows, columns, rand);\n\n        // Create entrance and exit\n        // Entrance: remove left wall of top-left cell\n        maze[0][0].walls[LEFT] = false;\n        // Exit: remove right wall of bottom-right cell\n        maze[rows - 1][columns - 1].walls[RIGHT] = false;\n\n        // Build the ASCII drawing using box-drawing characters\n        int h = 2 * rows + 1;\n        int w = 2 * columns + 1;\n        char[][] grid = new char[h][w];\n\n        // Initialize grid with spaces\n        for (int i = 0; i < h; i++) {\n            for (int j = 0; j < w; j++) {\n                grid[i][j] = \' \';\n            }\n        }\n\n        // Fill in horizontal walls from cells\n        // For each cell at (r,c), its top wall is drawn at (2*r, 2*c+1) if exists and bottom at (2*r+2, 2*c+1)\n        for (int r = 0; r < rows; r++) {\n            for (int c = 0; c < columns; c++) {\n                if (maze[r][c].walls[TOP]) {\n                    grid[2 * r][2 * c + 1] = \'─\';\n                }\n                if (maze[r][c].walls[BOTTOM]) {\n                    grid[2 * r + 2][2 * c + 1] = \'─\';\n                }\n                if (maze[r][c].walls[LEFT]) {\n                    grid[2 * r + 1][2 * c] = \'│\';\n                }\n                if (maze[r][c].walls[RIGHT]) {\n                    grid[2 * r + 1][2 * c + 2] = \'│\';\n                }\n            }\n        }\n\n        // Fill in corners and border intersections\n        for (int i = 0; i < h; i += 2) {\n            for (int j = 0; j < w; j += 2) {\n                // Determine which border this intersection is on\n                boolean topEdge = (i == 0);\n                boolean bottomEdge = (i == h - 1);\n                boolean leftEdge = (j == 0);\n                boolean rightEdge = (j == w - 1);\n\n                if (topEdge && leftEdge) {\n                    grid[i][j] = \'┌\';\n                } else if (topEdge && rightEdge) {\n                    grid[i][j] = \'┐\';\n                } else if (bottomEdge && leftEdge) {\n                    grid[i][j] = \'└\';\n                } else if (bottomEdge && rightEdge) {\n                    grid[i][j] = \'┘\';\n                } else if (topEdge) {\n                    grid[i][j] = \'┬\';\n                } else if (bottomEdge) {\n                    grid[i][j] = \'┴\';\n                } else if (leftEdge) {\n                    grid[i][j] = \'├\';\n                } else if (rightEdge) {\n                    grid[i][j] = \'┤\';\n                } else {\n                    grid[i][j] = \'┼\';\n                }\n            }\n        }\n\n        // Place entrance and exit arrows. Entrance on left, exit on right.\n        // Entrance: at the left border of cell (0,0) i.e. (2*0+1, 0)\n        grid[1][0] = \'⇨\';\n        // Exit: at the right border of cell (rows-1, columns-1) i.e. (2*(rows-1)+1, 2*columns)\n        grid[2 * rows - 1][w - 1] = \'⇨\';\n\n        return grid;\n    }\n\n    private void carvePassagesFrom(int r, int c, Cell[][] maze, int rows, int columns, Random rand) {\n        maze[r][c].visited = true;\n\n        List<int[]> directions = new ArrayList<>();\n        directions.add(new int[]{-1, 0, TOP, BOTTOM});    // move up: remove top wall of current and bottom wall of neighbor\n        directions.add(new int[]{0, 1, RIGHT, LEFT});     // move right\n        directions.add(new int[]{1, 0, BOTTOM, TOP});       // move down\n        directions.add(new int[]{0, -1, LEFT, RIGHT});      // move left\n\n        Collections.shuffle(directions, rand);\n\n        for (int[] dir : directions) {\n            int nr = r + dir[0];\n            int nc = c + dir[1];\n            if (nr >= 0 && nr < rows && nc >= 0 && nc < columns && !maze[nr][nc].visited) {\n                // Remove walls between current cell and neighbor\n                maze[r][c].walls[dir[2]] = false;\n                maze[nr][nc].walls[dir[3]] = false;\n                carvePassagesFrom(nr, nc, maze, rows, columns, rand);\n            }\n        }\n    }\n\n    // For debugging, a method to print the maze to console\n    public void printMaze(char[][] grid) {\n        for (char[] row : grid) {\n            System.out.println(new String(row));\n        }\n    }\n\n    public static void main(String[] args) {\n        MazeGenerator mg = new MazeGenerator();\n        int rows = 5;\n        int cols = 5;\n        int seed = 12345;\n        char[][] maze = mg.generatePerfectMaze(rows, cols, seed);\n        mg.printMaze(maze);\n    }\n}\n'}
Tool Result: File at /testbed/src/main/java/MazeGenerator.java has been overwritten with new content.
